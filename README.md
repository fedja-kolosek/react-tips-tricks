# react-tips-tricks
A summary of React patterns, best practices, tips, tricks, style, etc...

## React Stateless Functional Components (React 0.14 or newer)
### [Tutorial](https://hackernoon.com/react-stateless-functional-components-nine-wins-you-might-have-overlooked-997b0d933dbc)  

* **No Class Needed**  
Plain functions are generally preferable, and eliminating the class related cruft like extends and the constructor in the example above are a nice win.
* **No** `this` **Keyword**  
`<a>onClick={this.sayHi.bind(this)}>Say Hi</a>`  
`<a>onClick={sayHi}>Say Hi</a>`  
* **Easy to Understand**
* **Easy to Test**

[<img src="https://cdn-images-1.medium.com/max/1000/1*zyaxLgvQHfgaDjMoP90XAw.png">](https://hackernoon.com/react-stateless-functional-components-nine-wins-you-might-have-overlooked-997b0d933dbc)

## PropTypes
### [Official Page](https://facebook.github.io/react/docs/typechecking-with-proptypes.html)  
### [Tutorial](https://developer.fortnox.se/blog/proptypes-in-react-js/)

In short, PropTypes are just for helping the developer understand the component easier, and help debug it when there is a  prop type mismatch.

* You can easily open up a component and check which props are required and what type they should be.
* When things get messed up React will give you an awesome error message in the console, saying which props is wrong/missing plus the render method that caused the problem.

**Example:** 
```
propTypes: {
  size: React.PropTypes.number,
  position: React.PropTypes.string.isRequired,
}
```
In this example we can see that the component should receive two props. One should be a number, but it's value is not required (can be null or undefined, but it cannot have a value of any type other than integer), while the other prop should be a string, and it's value is required.

[//]: # (-------------------------------------------------------------------------------)

## Presentational and Container Components (state awareness)
> "Container components are components that are aware of Redux" - the internet  
> "Fat and Skinny, Smart and Dumb, Stateful and Pure, Screens and Components, etc" - [Dan Abramov](https://twitter.com/dan_abramov)    

### [Official Redux page](http://redux.js.org/docs/basics/UsageWithReact.html#presentational-and-container-components)    
### [Tutorial](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0) by [Dan Abramov](https://twitter.com/dan_abramov)  
### [Tutorial](http://www.thegreatcodeadventure.com/the-react-plus-redux-container-pattern/)  

React bindings for Redux embrace the idea of separating presentational and container components. You’ll find your components much easier to reuse and reason about if you divide them into (these) two categories. This approach also makes it easier to write stateless presentational components, and it also simplifies testing of a component.

|              | Presentational                  | Container                                     |
|:------------:| :-----------------------------: |:--------------------------------------------: |
|Purpose       | How things look (markup, styles)| How things work (data fetching, state updates)|
|Aware of Redux| No                              | Yes                                           |
|To read data  | Read data from props            | Subscribe to Redux state                      |
|To change data| Invoke callbacks from props     | Dispatch Redux actions                        |
|Are written   | By hand                         | Usually generated by React Redux              |

**Example of a container:**  
```
// homeContainer.js
import { connect } from 'react-redux'
import { someAction } from './actions'
import Home from './home'

const mapStateToProps = state => ({
  data: state.main.data,
})

const mapDispatchToProps = {
  someAction,
}

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(Home) // Home is wrapped in it's container and exported as such

```
We can see in this code snippet that the `Main` component is wrapped in it's own container. This container will be imported instead of the `Home` component (in Routes, other components, etc...) with: `import Home from 'homeContainer'`.
Components that are wrapped in a container will receive everything from the container through props. If view components are saved as `.jsx` files, containers are `.js` as they do not render anything. 

[//]: # (-------------------------------------------------------------------------------)

## Linting
> "Linting is the process of running a program that will analyse code for potential errors"

### [ESlint official page](http://eslint.org/)  
### [Tutorial](https://raygun.com/blog/using-linters-for-faster-safer-coding-with-less-javascript-errors/)  

#### What is a linter?  
Linters have been around for a long time and probably exist in one shape or form for all languages. A linter is basically a parser that parses your code and looks for mistakes. It’s a great way to save time, maintain quality and write safer code. You can plug linters in to your code editor or copy-past your code to a linting tool. Lint-ing your code is a great thing to do no matter what language you code with. You can even lint HTML, CSS and JSON. There are many different types, but here I will focus on the four most popular Javascript linters.

React developers mostly use ESLint for javascript and JSX. There are predefined style guides available for ESlint like [Airbnb JSX style guide](https://github.com/airbnb/javascript/tree/master/react) that can be included (extended) in ESlint settings.

Example of a sublime linter plugin showing errors in console:  
[<img src="https://camo.githubusercontent.com/974b8eacb5b696a5debc1f41128f5b064b24d8d6/68747470733a2f2f6c68352e676f6f676c6575736572636f6e74656e742e636f6d2f2d38534c6e6d695433557a772f564431577a7431637a51492f41414141414141414262672f61363343536970307874302f773831332d683339362d6e6f2f6373686172706c696e7465722e706e67">](https://hackernoon.com/react-stateless-functional-components-nine-wins-you-might-have-overlooked-997b0d933dbc)

[//]: # (-------------------------------------------------------------------------------)

## Common Folder (helpers, components, decorators, ...)

Common folder holds the code that is being used in more than one place throughout the code.
Common folder structure differs per project/developer/company, but the idea is the same.
Example of common folder structure:  

**`Common`**
* `Helpers` (Contains functions, this folder is also named `utils`)  
`-> moneyHelper.js`  
`-> dateHelper.js`  
`-> someLogicHelper.js`
* `Components` (Contains components that are reused accros the app, (e.g., headers, buttons, etc...)  
`-> nextButton.jsx`  
`-> navHeader.jsx`  
`-> basicInfo.jsx`

This organizing pattern helps test functions, reduce redundant code and bugs

[//]: # (-------------------------------------------------------------------------------)

## Selectors (Improving React and Redux performance with Reselect)

> We define selectors as the functions that **retrieve snippets of the Redux state** for our React components

### [Reselect GitHub](https://github.com/reactjs/reselect)
### [Reselect tutorial](http://blog.rangle.io/react-and-redux-performance-with-reselect/)

* Selectors can compute derived data, allowing Redux to store the minimal possible state.
* Selectors are efficient. A selector is not recomputed unless one of its arguments change.
* Selectors are composable. They can be used as input to other selectors.

If you are using React Redux, you can call selectors as regular functions inside mapStateToProps()

```
import { createSelector } from 'reselect'

const shopItemsSelector = state => state.shop.items
const taxPercentSelector = state => state.shop.taxPercent

const subtotalSelector = createSelector(
  shopItemsSelector,
  items => items.reduce((acc, item) => acc + item.value, 0)
)

const taxSelector = createSelector(
  subtotalSelector,
  taxPercentSelector,
  (subtotal, taxPercent) => subtotal * (taxPercent / 100)
)

export const totalSelector = createSelector(
  subtotalSelector,
  taxSelector,
  (subtotal, tax) => ({ total: subtotal + tax })
)

let exampleState = {
  shop: {
    taxPercent: 8,
    items: [
      { name: 'apple', value: 1.20 },
      { name: 'orange', value: 0.95 },
    ]
  }
}

console.log(subtotalSelector(exampleState)) // 2.15
console.log(taxSelector(exampleState))      // 0.172
console.log(totalSelector(exampleState))    // { total: 2.322 }
```

[//]: # (-------------------------------------------------------------------------------)

## Normalizr

> Many APIs, return JSON data that has deeply nested objects. Using data in this kind of structure is often very difficult for JavaScript applications, especially those using Flux or Redux.

[Normalizr GitHub](https://github.com/paularmstrong/normalizr)


[//]: # (-------------------------------------------------------------------------------)

## Immutable

[//]: # (-------------------------------------------------------------------------------)

## Testing

[//]: # (-------------------------------------------------------------------------------)

## GraphQL

[//]: # (-------------------------------------------------------------------------------)

## Redux form

[//]: # (-------------------------------------------------------------------------------)

___
### Miscellaneous:
[Egghead tutorial by Dan Abramov](https://egghead.io/courses/building-react-applications-with-idiomatic-redux) - Great tutorial that covers many aspects of this text  

Version **0.1**  
Initial version written by *Feđa* @ [Kolosek](https://kolosek.com/)  
